<ion-header>
  <ion-toolbar >
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-button class="bg-color">
          <ion-icon slot="icon-only" name="menu"></ion-icon>
        </ion-button>
      </ion-menu-toggle>
    </ion-buttons >
    <ion-title>Home</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content  padding >
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>



  <ion-toolbar class="home todayy" [ngStyle]="{ 'background-color' : backgroundColor}" (swipeleft)="handleSwipeLeft()" (swiperight)="handleSwipeRight()" >
    <ion-icon class="arrow-back" *ngIf="day == 'today' || day == 'tomorrow'" (click)="handleSwipeRight()"
      name="arrow-back" slot="start"></ion-icon>
    <ion-card >
      <ion-card-header>
        <ion-card-title class="home_day"><span  class="day">{{day}}</span>  </ion-card-title>
       
      </ion-card-header>

      <ion-card-content *ngIf="dayNumber>84; else templateName" class="day">
        Congratulations!<br>
        You have completed the The Meltdown Anti-Diet!
      </ion-card-content>
      <ng-template #templateName>
        <ion-card-content class="home_day program">
          <span class="dayNumber">DAY {{dayNumber}}  </span>
        </ion-card-content>
      </ng-template>

    </ion-card>
      <ion-icon class="arrow-forward" *ngIf="day == 'today' || day == 'yesterday'" (click)="handleSwipeLeft()" name="arrow-forward" slot="end"></ion-icon>
    </ion-toolbar>


  <div style="display: block">
    <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
      [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
    </canvas>
  </div>

  <ion-item>
    <ion-label class="workout">{{workout_completed_msn}}</ion-label>
    <ion-icon name="fitness" *ngIf="workout_completed == true"></ion-icon>
    <ion-icon name="pulse" *ngIf="workout_completed == false"></ion-icon>
    <ion-icon name="heart" *ngIf="workout_completed == false" style="color:rgb(211, 0, 0)"></ion-icon>
  </ion-item>

  <ion-item>
  <div >
    <p *ngIf="dayNutritionInfo.daynutrition.hasOwnProperty('fat'); else nofattemplate">
      <!--days with w fat-->
      <span class="home_day_2">Day {{dayNumber}} </span> / <span class="home_day_3">84 Days Program </span> 
    </p>

    
    <ng-template #nofattemplate>
      <p>
        <span class="home_day_2">Day {{dayNumber}} </span> / <span class="home_day_3">84 Days Program </span> <br />
        <span class="home_text2"> *(5% +/- Dietary Fat that occur naturally in the
          Protein and Carbohydrate food sources)</span>
      </p>
    </ng-template>
  </div>
</ion-item>

<ion-item>
  <p>
    <span class="namePercentt home_text3" [ngStyle]="{ 'color' : circlecolor}">
        <span class="name_percent"> <strong> Protein </strong> : {{warnText.proteinText}} </span>  
        <br/><span class="name_percent"> <strong> Carbs </strong> : {{warnText.carbsText}} </span>
        <br/><span class="name_percent"> <strong> Fat </strong> : {{warnText.fatText}}</span>
  </span>

  </p>
</ion-item>


  <div class="home_totalCol">

    <p style= " color: rgb(67, 66, 66); font-weight:500" > Maximum Calories Today : <strong>{{dietCaloriesIntake}}</strong> Calories<br />Cosnusmed : 
      <strong [ngStyle]="{ 'color' : circlecolor}">{{caloriesConsumed}}</strong>
       Calories
    </p>

    <!-- See https://www.npmjs.com/package/ng-circle-progress for settings -->
    <circle-progress [backgroundColor]="circlecolor" [percent]="percent" [subtitle]="circlesubtitle"></circle-progress>
  </div>
  </ion-content>
